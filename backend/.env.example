# =============================================================================
# ENVIRONMENT CONFIGURATION - SECURE DEFAULTS (OWASP COMPLIANT)
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control!
# =============================================================================

# ==================================
# DATABASE CONFIGURATION
# ==================================
DB_HOST=your-database-host
DB_PORT=5432
DB_NAME=your-database-name
DB_USER=your-database-user
DB_PASSWORD=your-strong-database-password-change-this

# ==================================
# REDIS CACHE (Recommended: Upstash Cloud)
# ==================================
# Using Upstash (Free Tier): https://upstash.com/
# 1. Create account and new Redis database
# 2. Copy connection URL from dashboard
# 3. Paste below (format: rediss://default:PASSWORD@host.upstash.io:6379)
#
# Example: REDIS_URL=rediss://default:YOUR_PASSWORD@your-db.upstash.io:6379
# Leave blank to run without cache (system works fine without Redis)
REDIS_URL=
REDIS_PASSWORD=

# ==================================
# SERVER CONFIGURATION
# ==================================
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# ==================================
# JWT AUTHENTICATION (SECURITY CRITICAL)
# ==================================
# IMPORTANT: Use a strong secret (32+ characters) in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_MIN_32_CHARS
JWT_EXPIRES_IN=7d

# ==================================
# SECURITY CONFIGURATION (OWASP)
# ==================================
# Password hashing rounds (12 = secure, higher = more secure but slower)
BCRYPT_ROUNDS=12

# Account lockout settings
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000  # 15 minutes in milliseconds

# ==================================
# PERFORMANCE & LIMITS
# ==================================
# Maximum request body size in MB
MAX_REQUEST_SIZE_MB=10

# Database connection pool (recommended for production)
DB_POOL_MAX=50
DB_POOL_MIN=10

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000      # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100      # Max requests per window

# =============================================================================
# SECURITY NOTES - READ CAREFULLY
# =============================================================================
#
# 1. NEVER commit .env file with real values to version control
# 2. JWT_SECRET must be 32+ characters for security
# 3. Use strong database passwords (20+ characters, mixed case, numbers, symbols)
# 4. In production, always use HTTPS for FRONTEND_URL
# 5. Rotate secrets every 90 days
# 6. Different environments = different secrets
#
# Generate strong secrets:
# JWT_SECRET:   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# DB_PASSWORD:  node -e "console.log(require('crypto').randomBytes(24).toString('base64'))"
#
# =============================================================================
